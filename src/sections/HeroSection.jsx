import React, { useRef } from 'react';
import { motion, useReducedMotion } from 'framer-motion';
import { FiGithub, FiInstagram, FiMail, FiArrowRight } from 'react-icons/fi';
import { FaTiktok } from 'react-icons/fa';
import useSectionObserver from '../hooks/useSectionObserver';

const socials = [
  { icon: <FiGithub size={24} />, url: 'https://github.com/bufferring', label: 'GitHub' },
  { icon: <FiInstagram size={24} />, url: 'https://instagram.com/bufferringorg', label: 'Instagram' },
  { icon: <FaTiktok size={24} />, url: 'https://tiktok.com/@bufferringorg', label: 'TikTok' },
  { icon: <FiMail size={24} />, url: 'mailto:contact@bufferring.org', label: 'Email' },
];

export default function HeroSection({ id }) {
  const prefersReducedMotion = useReducedMotion();
  const sectionRef = useRef(null);
  useSectionObserver(id, sectionRef);

  const containerVariants = prefersReducedMotion
    ? { hidden: { opacity: 1, y: 0 }, visible: { opacity: 1, y: 0 } }
    : {
        hidden: { opacity: 0, y: 28 },
        visible: {
          opacity: 1,
          y: 0,
          transition: {
            duration: 0.9,
            ease: 'easeOut',
            staggerChildren: 0.14,
            delayChildren: 0.2,
          },
        },
      };

  const itemVariants = prefersReducedMotion
    ? { hidden: { opacity: 1, y: 0 }, visible: { opacity: 1, y: 0 } }
    : {
        hidden: { opacity: 0, y: 20 },
        visible: {
          opacity: 1,
          y: 0,
          transition: { duration: 0.7, ease: 'easeOut' },
        },
      };

  const logoVariants = prefersReducedMotion
    ? { hidden: { opacity: 1, scale: 1 }, visible: { opacity: 1, scale: 1 } }
    : {
        hidden: { opacity: 0, scale: 0.92, rotate: -4 },
        visible: {
          opacity: 1,
          scale: 1,
          rotate: 0,
          transition: { duration: 0.8, ease: 'easeOut', delay: 0.2 },
        },
      };

  return (
    <section
      id={id}
      ref={sectionRef}
      className="relative flex items-center min-h-screen py-24 overflow-hidden"
    >
      <div className="pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(148,163,184,0.15)_0%,_transparent_55%)]" />

      <div className="relative z-10 mx-auto grid max-w-6xl items-center gap-16 px-4 sm:px-6 md:grid-cols-[minmax(0,1fr)_auto]">
        <motion.div
          className="space-y-6"
          variants={containerVariants}
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, amount: 0.5 }}
        >
          <motion.p
            className="text-sm font-semibold uppercase tracking-[0.3em] text-gray-400"
            variants={itemVariants}
          >
            Open Source Collective
          </motion.p>

          <motion.h1 className="text-4xl font-bold text-white md:text-6xl" variants={itemVariants}>
            Welcome to <span className="text-gray-300">BufferRing</span>
          </motion.h1>

          <motion.h2 className="text-2xl font-semibold text-gray-300 md:text-4xl" variants={itemVariants}>
            Collaboration is a circle
          </motion.h2>

          <motion.p className="max-w-xl text-lg text-gray-400 md:text-xl" variants={itemVariants}>
            We build innovative open-source solutions that empower developers and create meaningful impact across the globe.
          </motion.p>

          <motion.div className="flex flex-wrap items-center gap-4" variants={itemVariants}>
            <a
              href="#contact"
              className="flex items-center px-6 py-3 font-medium text-white transition-all duration-300 rounded-lg bg-gradient-to-r from-gray-700 to-gray-900 hover:from-gray-600 hover:to-gray-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500"
            >
              Contact Us <FiArrowRight className="ml-2" />
            </a>
            <a
              href="#projects"
              className="px-6 py-3 font-medium text-gray-300 transition-all duration-300 border border-gray-700 rounded-lg hover:border-gray-500 hover:text-white"
            >
              Explore Projects
            </a>
          </motion.div>

          <motion.div className="flex flex-wrap gap-4" variants={itemVariants}>
            {socials.map((social) => (
              <a
                key={social.label}
                href={social.url}
                target="_blank"
                rel="noopener noreferrer"
                className="flex items-center text-gray-400 transition-colors duration-300 hover:text-white"
              >
                {social.icon}
                <span className="ml-2 text-sm md:text-base">{social.label}</span>
              </a>
            ))}
          </motion.div>
        </motion.div>

        <motion.div
          className="relative flex justify-center"
          variants={logoVariants}
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, amount: 0.45 }}
        >
          <motion.div
            className="relative w-64 h-64 overflow-hidden rounded-full shadow-2xl md:h-80 md:w-80"
            animate={
              prefersReducedMotion
                ? undefined
                : {
                    y: [0, -14, 0],
                    rotate: [0, 2, 0],
                    transition: {
                      duration: 6,
                      ease: 'easeInOut',
                      repeat: Infinity,
                    },
                  }
            }
          >
            <div
              className="absolute inset-0 rounded-full ring-1 ring-white/20"
              style={{ backgroundColor: 'rgba(255, 255, 255, 0.015)' }}
            />
            <div className="absolute inset-0 flex items-center justify-center">
              <svg
                className="w-full h-full invert"
                id="svg"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                width="400"
                height="400"
                viewBox="0, 0, 400,400"
              >
                <g id="svgg">
                  <path
                    id="path0"
                    d="M156.356 33.168 L 156.400 42.175 157.044 43.208 C 157.752 44.341,157.931 44.653,158.560 45.840 C 158.792 46.280,159.172 46.938,159.402 47.302 C 159.633 47.667,159.788 47.998,159.747 48.040 C 159.706 48.081,159.782 48.205,159.916 48.317 C 160.050 48.428,160.160 48.571,160.160 48.635 C 160.160 48.699,160.520 49.356,160.960 50.095 C 161.400 50.835,161.760 51.497,161.760 51.568 C 161.760 51.638,162.021 52.103,162.339 52.600 C 162.657 53.098,162.930 53.581,162.945 53.673 C 162.960 53.765,163.087 54.020,163.226 54.240 C 163.641 54.893,164.663 56.661,165.122 57.520 C 165.358 57.960,165.824 58.788,166.159 59.360 C 166.494 59.932,166.906 60.675,167.073 61.011 C 167.241 61.347,167.628 62.013,167.934 62.491 C 168.240 62.969,168.440 63.360,168.380 63.360 C 168.320 63.360,168.372 63.486,168.495 63.640 C 168.706 63.902,168.935 64.281,169.341 65.040 C 169.436 65.216,169.722 65.705,169.977 66.126 C 170.546 67.065,170.696 66.945,168.313 67.445 C 108.516 79.984,61.037 127.719,48.722 187.680 C 44.963 205.980,44.565 226.260,47.604 244.640 C 58.819 312.464,113.841 365.123,181.920 373.188 C 196.419 374.906,212.415 374.535,226.517 372.155 C 231.328 371.343,231.040 371.425,231.040 370.858 C 231.040 370.600,230.896 369.961,230.719 369.438 C 230.543 368.914,230.329 367.782,230.244 366.923 C 230.159 366.063,229.980 364.892,229.848 364.320 C 229.715 363.748,229.605 363.008,229.603 362.675 C 229.602 362.342,229.457 361.645,229.282 361.127 C 229.107 360.608,228.919 359.656,228.863 359.012 C 228.807 358.367,228.625 357.427,228.460 356.923 C 228.294 356.418,228.089 355.302,228.004 354.443 C 227.919 353.583,227.740 352.412,227.608 351.840 C 227.475 351.268,227.365 350.528,227.363 350.195 C 227.362 349.862,227.219 349.172,227.047 348.661 C 226.875 348.150,226.686 347.235,226.628 346.626 C 226.569 346.018,226.384 345.104,226.217 344.595 C 226.050 344.086,225.850 343.006,225.773 342.195 C 225.553 339.870,225.123 338.058,224.814 338.154 C 222.091 339.006,211.151 340.260,204.685 340.461 C 122.922 343.008,61.996 265.832,83.598 187.081 C 104.523 110.802,191.896 74.677,260.851 113.795 C 262.243 114.585,263.409 115.204,263.442 115.171 C 263.551 115.062,280.667 86.675,280.743 86.478 C 280.871 86.145,274.383 82.509,268.720 79.741 C 257.318 74.168,245.033 69.968,232.509 67.361 C 229.068 66.644,229.280 66.769,229.863 65.806 C 230.118 65.385,230.416 64.878,230.524 64.680 C 231.013 63.783,231.134 63.582,231.345 63.320 C 231.468 63.166,231.520 63.040,231.460 63.040 C 231.400 63.040,231.600 62.649,231.906 62.171 C 232.212 61.693,232.599 61.027,232.767 60.691 C 232.934 60.355,233.346 59.612,233.681 59.040 C 234.016 58.468,234.482 57.640,234.718 57.200 C 235.177 56.341,236.199 54.573,236.614 53.920 C 236.753 53.700,236.880 53.445,236.895 53.353 C 236.910 53.261,237.183 52.778,237.501 52.280 C 237.819 51.783,238.080 51.318,238.080 51.248 C 238.080 51.177,238.440 50.515,238.880 49.775 C 239.320 49.036,239.680 48.379,239.680 48.315 C 239.680 48.251,239.790 48.108,239.924 47.997 C 240.058 47.885,240.134 47.761,240.093 47.720 C 240.052 47.678,240.207 47.347,240.438 46.982 C 240.833 46.358,241.500 45.156,242.050 44.080 C 242.185 43.816,242.535 43.241,242.828 42.802 C 243.120 42.363,243.360 41.913,243.360 41.802 C 243.360 41.691,243.432 41.600,243.520 41.600 C 243.625 41.600,243.680 38.587,243.680 32.880 L 243.680 24.160 199.996 24.160 L 156.312 24.160 156.356 33.168 M222.614 42.657 C 222.311 43.238,221.899 43.976,221.699 44.297 C 221.498 44.617,221.092 45.348,220.795 45.920 C 220.499 46.492,220.132 47.144,219.979 47.369 C 219.827 47.594,219.494 48.170,219.241 48.649 C 218.665 49.736,218.085 50.750,217.920 50.960 C 217.851 51.048,217.511 51.660,217.165 52.320 C 216.819 52.980,216.081 54.312,215.523 55.280 C 214.966 56.248,214.356 57.328,214.168 57.680 C 213.980 58.032,213.418 59.040,212.920 59.920 C 211.503 62.421,211.228 62.915,210.870 63.600 L 210.535 64.240 201.628 64.240 C 196.728 64.240,191.958 64.295,191.027 64.363 L 189.334 64.487 188.667 63.368 C 188.300 62.753,188.000 62.217,188.000 62.178 C 188.000 62.138,187.602 61.415,187.114 60.572 C 186.627 59.728,186.026 58.660,185.778 58.199 C 185.529 57.737,184.871 56.568,184.315 55.600 C 183.759 54.632,183.021 53.300,182.675 52.640 C 182.329 51.980,181.989 51.368,181.920 51.280 C 181.755 51.070,181.175 50.056,180.599 48.969 C 180.346 48.490,180.013 47.914,179.861 47.689 C 179.708 47.464,179.341 46.812,179.045 46.240 C 178.748 45.668,178.349 44.948,178.157 44.640 C 177.965 44.332,177.512 43.522,177.151 42.840 L 176.494 41.600 199.830 41.600 L 223.165 41.600 222.614 42.657 M295.851 119.219 L 284.296 131.399 287.397 134.539 C 292.188 139.392,296.081 144.008,299.623 149.032 C 300.578 150.388,301.432 151.479,301.520 151.456 C 301.834 151.374,329.268 132.717,329.274 132.582 C 329.291 132.197,323.885 124.864,320.883 121.200 C 317.093 116.575,308.148 107.040,307.599 107.040 C 307.493 107.040,302.206 112.521,295.851 119.219 M329.040 168.562 C 320.592 171.934,313.575 174.758,313.447 174.839 C 313.253 174.961,313.374 175.416,314.189 177.613 C 316.623 184.181,318.538 191.147,319.771 197.920 C 320.004 199.196,320.208 200.256,320.226 200.276 C 320.244 200.296,327.706 199.103,336.809 197.627 L 353.360 194.941 353.327 194.131 C 353.246 192.146,351.045 182.299,349.422 176.656 C 348.043 171.864,344.753 162.368,344.489 162.416 C 344.440 162.425,337.488 165.191,329.040 168.562 M121.280 188.960 L 121.280 206.400 132.960 206.400 L 144.640 206.400 144.640 203.520 L 144.640 200.640 147.520 200.640 L 150.400 200.640 150.400 196.240 L 150.400 191.840 147.520 191.840 L 144.640 191.840 144.640 189.040 L 144.640 186.240 147.520 186.240 L 150.400 186.240 150.400 181.760 L 150.400 177.280 147.520 177.280 L 144.640 177.280 144.640 174.400 L 144.640 171.520 132.960 171.520 L 121.280 171.520 121.280 188.960 M184.960 175.840 L 184.960 180.160 182.080 180.160 L 179.200 180.160 179.200 183.200 L 179.200 186.240 182.080 186.240 L 184.960 186.240 184.960 196.320 L 184.960 206.400 187.920 206.400 L 190.880 206.400 190.880 196.320 L 190.880 186.240 196.720 186.240 L 202.560 186.240 202.560 183.200 L 202.560 180.160 196.720 180.160 L 190.880 180.160 190.880 178.800 L 190.880 177.440 195.200 177.440 L 199.520 177.440 199.520 174.480 L 199.520 171.520 192.240 171.520 L 184.960 171.520 184.960 175.840 M211.040 175.840 L 211.040 180.160 208.160 180.160 L 205.280 180.160 205.280 183.200 L 205.280 186.240 208.160 186.240 L 211.040 186.240 211.040 196.320 L 211.040 206.400 214.000 206.400 L 216.960 206.400 216.960 196.320 L 216.960 186.240 222.800 186.240 L 228.640 186.240 228.640 183.200 L 228.640 180.160 222.800 180.160 L 216.960 180.160 216.960 178.800 L 216.960 177.440 221.280 177.440 L 225.600 177.440 225.600 174.480 L 225.600 171.520 218.320 171.520 L 211.040 171.520 211.040 175.840 M144.480 181.760 L 144.480 186.080 135.840 186.080 L 127.200 186.080 127.200 181.760 L 127.200 177.440 135.840 177.440 L 144.480 177.440 144.480 181.760 M153.120 190.400 L 153.120 200.640 156.000 200.640 L 158.880 200.640 158.880 203.520 L 158.880 206.400 167.600 206.400 L 176.320 206.400 176.320 193.280 L 176.320 180.160 173.360 180.160 L 170.400 180.160 170.400 190.320 L 170.400 200.480 164.720 200.480 L 159.040 200.480 159.040 190.320 L 159.040 180.160 156.080 180.160 L 153.120 180.160 153.120 190.400 M237.120 183.120 L 237.120 186.080 234.240 186.080 L 231.360 186.080 231.360 193.360 L 231.360 200.640 234.240 200.640 L 237.120 200.640 237.120 203.520 L 237.120 206.400 245.920 206.400 L 254.720 206.400 254.720 202.000 L 254.720 197.600 251.680 197.600 L 248.640 197.600 248.640 199.040 L 248.640 200.480 242.960 200.480 L 237.280 200.480 237.280 197.680 L 237.280 194.880 243.040 194.880 L 248.800 194.880 248.800 193.440 L 248.800 192.000 251.760 192.000 L 254.720 192.000 254.720 186.080 L 254.720 180.160 245.920 180.160 L 237.120 180.160 237.120 183.120 M257.440 193.280 L 257.440 206.400 260.400 206.400 L 263.360 206.400 263.360 197.760 L 263.360 189.120 264.800 189.120 L 266.240 189.120 266.240 187.680 L 266.240 186.240 270.480 186.240 L 274.720 186.240 274.720 187.680 L 274.720 189.120 276.240 189.120 L 277.760 189.120 277.760 186.080 L 277.760 183.040 276.320 183.040 L 274.880 183.040 274.880 181.600 L 274.880 180.160 270.480 180.160 L 266.080 180.160 266.080 181.600 L 266.080 183.040 264.720 183.040 L 263.360 183.040 263.360 181.600 L 263.360 180.160 260.400 180.160 257.440 193.280 M248.640 187.600 L 248.640 188.960 242.960 188.960 L 237.280 188.960 237.280 187.600 L 237.280 186.240 242.960 186.240 L 248.640 186.240 248.640 187.600 M144.480 196.240 L 144.480 200.480 135.840 200.480 L 127.200 200.480 127.200 196.240 L 127.200 192.000 135.840 192.000 L 144.480 192.000 144.480 196.240 M118.400 238.080 L 118.400 265.600 197.760 265.600 L 277.120 265.600 277.120 238.080 L 277.120 210.560 197.760 210.560 L 118.400 210.560 118.400 238.080 M240.725 220.331 C 244.818 220.900,248.029 222.418,250.960 225.168 L 252.240 226.369 251.680 226.959 C 251.372 227.283,250.342 228.274,249.392 229.160 L 247.663 230.771 246.912 230.053 C 236.919 220.500,221.309 230.903,227.685 242.866 C 231.489 250.003,242.355 251.135,246.570 244.834 L 247.396 243.600 242.578 243.558 L 237.760 243.515 237.760 240.478 L 237.760 237.440 246.160 237.440 L 254.560 237.440 254.559 238.840 C 254.552 246.839,248.938 253.500,241.102 254.811 C 232.979 256.169,225.295 252.468,221.843 245.534 C 215.278 232.347,225.832 218.259,240.725 220.331 M160.431 221.406 C 168.680 223.231,170.093 234.949,162.516 238.702 L 161.128 239.390 161.748 240.535 C 162.512 241.946,168.146 252.623,168.621 253.560 L 168.967 254.240 165.483 254.239 L 162.000 254.239 158.256 247.119 C 155.378 241.645,154.444 240.000,154.216 240.000 C 153.932 240.000,153.920 240.297,153.920 247.120 L 153.920 254.240 150.720 254.240 L 147.520 254.240 147.520 237.583 L 147.520 220.927 153.240 221.004 C 158.216 221.071,159.151 221.123,160.431 221.406 M180.160 237.600 L 180.160 254.240 176.960 254.240 L 173.760 254.240 173.760 237.600 L 173.760 220.960 176.960 220.960 L 180.160 220.960 180.160 237.600 M200.400 231.806 L 207.440 242.635 207.481 231.797 L 207.522 220.960 210.721 220.960 L 213.920 220.960 213.920 237.600 L 213.920 254.240 210.837 254.240 L 207.753 254.240 200.717 243.461 L 193.680 232.682 193.639 243.461 L 193.598 254.240 190.399 254.240 L 187.200 254.240 187.200 237.600 L 187.200 220.960 190.280 220.968 L 193.360 220.977 200.400 231.806 M321.920 225.990 C 321.920 230.802,319.805 244.138,318.015 250.610 C 317.736 251.618,317.678 252.037,317.812 252.082 C 318.581 252.339,349.832 260.960,349.995 260.960 C 350.237 260.960,350.181 261.143,351.210 257.040 C 353.415 248.250,355.514 234.475,355.519 228.767 C 355.520 227.624,357.590 227.858,338.880 226.887 C 330.300 226.442,322.974 226.044,322.600 226.002 C 322.226 225.960,321.920 225.955,321.920 225.990 M153.920 230.479 L 153.920 233.967 156.120 233.874 C 160.043 233.707,161.182 232.961,161.180 230.560 C 161.177 228.104,159.937 227.235,156.218 227.084 L 153.920 226.991 153.920 230.479 M306.714 278.507 C 303.689 284.121,298.855 291.257,294.267 296.880 C 293.243 298.135,292.876 298.695,292.989 298.833 C 293.432 299.373,318.274 320.400,318.469 320.400 C 319.083 320.400,326.623 310.486,330.273 304.880 C 333.437 300.021,337.570 292.854,337.331 292.642 C 337.098 292.436,308.168 277.092,307.860 277.012 C 307.619 276.949,307.398 277.238,306.714 278.507 "
                    stroke="none"
                    fill="#000000"
                    fillRule="evenodd"
                  />
                </g>
              </svg>
            </div>
          </motion.div>
        </motion.div>
      </div>
    </section>
  );
}
